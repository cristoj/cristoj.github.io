var O=Object.defineProperty;var E=(s,e,t)=>e in s?O(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var l=(s,e,t)=>E(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}})();class L{constructor(e=document.body){l(this,"targetElement");this.targetElement=e}render(e){let t="";e instanceof Error?(console.error(e.name,e.message),t+=`<p><strong>Error:</strong> ${e.name}: ${e.message}</p>`):(console.error(e),t+=`<p><strong>Error:</strong> Unknown error occurred: ${e}</p>`),this.targetElement.innerHTML=`
            <div style='padding: 20px; font-family: Arial, sans-serif; color: red;'>
                <h1>‚ùå Error en la aplicaci√≥n</h1>
                ${t}
            </div>
        `}setTargetElement(e){this.targetElement=e}}var i=(s=>(s.LANGUAGES="Lenguajes",s.FRAMEWORKS="Frameworks",s.TOOLS="Herramientas",s.METHODOLOGIES="Metodolog√≠as",s.CLOUD="Cloud/DevOps",s.SOFT_SKILLS="Habilidades Blandas",s))(i||{}),g=(s=>(s.ACORUNA="A Coru√±a",s.MADRID="Madrid",s.REMOTO="Remoto",s))(g||{}),p=(s=>(s.DEVELOPER="Developer",s.DESIGNER="Designer",s.PROJECT_MANAGER="Project Manager",s.DATA_ANALYST="Data Analyst",s.MARKETING="Marketing",s.SALES="Sales",s.HR="Human Resources",s.QA_TESTER="QA Tester",s.OTHER="Other",s))(p||{});class d extends Error{constructor(e){super(e),this.name="CurriculumVitaeErrors"}}class m{constructor(e,t,r,o,n=[g.REMOTO],a,c,u,S=p.OTHER){l(this,"uuid");l(this,"fullName");l(this,"email");l(this,"phone");l(this,"locations");l(this,"specialty");l(this,"linkedin");l(this,"github");l(this,"jobCategories");l(this,"skillSet");m.validateConstructorParams(e,t,r,o,a,c,u),this.uuid=e,this.fullName=t,this.email=r,this.phone=o,this.locations=n,this.specialty=a,this.linkedin=c,this.github=u,this.jobCategories=S,this.skillSet={[i.LANGUAGES]:[],[i.FRAMEWORKS]:[],[i.TOOLS]:[],[i.METHODOLOGIES]:[],[i.CLOUD]:[],[i.SOFT_SKILLS]:[]}}getUuid(){return this.uuid}addSkill(e,t){this.skillSet[e].length&&this.skillSet[e].includes(t)||this.skillSet[e].push(t)}addSkills(e,t){t.forEach(r=>{this.addSkill(e,r)})}getSkills(){return{[i.LANGUAGES]:this.skillSet[i.LANGUAGES],[i.FRAMEWORKS]:this.skillSet[i.FRAMEWORKS],[i.TOOLS]:this.skillSet[i.TOOLS],[i.METHODOLOGIES]:this.skillSet[i.METHODOLOGIES],[i.CLOUD]:this.skillSet[i.CLOUD],[i.SOFT_SKILLS]:this.skillSet[i.SOFT_SKILLS]}}getBasicInfo(){return{fullName:this.fullName,email:this.email,phone:this.phonePrettyPrint(this.phone),locations:this.locations,specialty:this.specialty,linkedin:this.linkedin,github:this.github,jobCategories:this.jobCategories}}addExperience(){}phonePrettyPrint(e){return e.replace(/(.{3})/g,"$1 ").trim()}static validateConstructorParams(e,t,r,o,n,a,c){if(!e)throw new d("UUID no puede estar vac√≠o");if(!t||t.trim().length<2)throw new d("El nombre completo debe tener al menos 2 caracteres");if(!r||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))throw new d("Email debe tener un formato v√°lido");if(!o||!/^\+?[\d\s\-()]{7,15}$/.test(o))throw new d("Tel√©fono debe tener un formato v√°lido");if(!n||n.trim().length<3)throw new d("La especialidad debe tener al menos 3 caracteres");if(a&&!a.includes("linkedin.com"))throw new d("LinkedIn debe ser una URL v√°lida");if(!c||!c.includes("github.com")&&!c.includes("github.io"))throw new d("GitHub es obligatorio para developers y debe ser una URL v√°lida")}}class h extends m{constructor(e,t,r,o,n=[g.REMOTO],a,c,u){super(e,t,r,o,n,a,c,u,p.DEVELOPER)}}class f{static toJson(e){const t=e.getBasicInfo(),r=e.getSkills(),n={type:e.constructor.name,uuid:e.getUuid(),basicInfo:{fullName:t.fullName,email:t.email,phone:t.phone,locations:t.locations,specialty:t.specialty,linkedin:t.linkedin,github:t.github,jobCategories:t.jobCategories},skills:{languages:r[i.LANGUAGES],frameworks:r[i.FRAMEWORKS],tools:r[i.TOOLS],methodologies:r[i.METHODOLOGIES],cloud:r[i.CLOUD],softSkills:r[i.SOFT_SKILLS]}};return JSON.stringify(n)}static fromJson(e){const t=JSON.parse(e);let r;switch(t.type||"CVDeveloper"){case"CVDeveloper":r=new h(t.uuid,t.basicInfo.fullName,t.basicInfo.email,t.basicInfo.phone,t.basicInfo.locations,t.basicInfo.specialty,t.basicInfo.linkedin,t.basicInfo.github);break;default:r=new h(t.uuid,t.basicInfo.fullName,t.basicInfo.email,t.basicInfo.phone,t.basicInfo.locations,t.basicInfo.specialty,t.basicInfo.linkedin,t.basicInfo.github)}return t.skills.languages&&r.addSkills(i.LANGUAGES,t.skills.languages),t.skills.frameworks&&r.addSkills(i.FRAMEWORKS,t.skills.frameworks),t.skills.tools&&r.addSkills(i.TOOLS,t.skills.tools),t.skills.methodologies&&r.addSkills(i.METHODOLOGIES,t.skills.methodologies),t.skills.cloud&&r.addSkills(i.CLOUD,t.skills.cloud),t.skills.softSkills&&r.addSkills(i.SOFT_SKILLS,t.skills.softSkills),r}}class b{constructor(){l(this,"storageKey","curriculumVitae");if(typeof window>"u"||!window.localStorage)throw new Error("No localStorage available");localStorage.getItem(this.storageKey)||localStorage.setItem(this.storageKey,JSON.stringify({}))}async save(e){const t=this.getStorage();t[e.getUuid()]=f.toJson(e),this.setStorage(t)}async findById(e){const r=this.getStorage()[e];return r?f.fromJson(r):null}async findAll(){const e=this.getStorage();return Object.values(e).map(t=>f.fromJson(t))}async update(e){const t=this.getStorage(),r=e.getUuid();if(!t[r])throw new Error("Curriculum Vitae not found");t[r]=f.toJson(e),this.setStorage(t)}async delete(e){const t=this.getStorage();if(!t[e])throw new Error("Curriculum Vitae not found");delete t[e],this.setStorage(t)}getStorage(){if(typeof window>"u"||!window.localStorage)return{};const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):{}}setStorage(e){typeof window<"u"&&window.localStorage&&localStorage.setItem(this.storageKey,JSON.stringify(e))}}class k{constructor(e){this.repository=e}async execute(e){if(!e.getBasicInfo().email)throw new Error("El email es requerido");await this.repository.save(e)}}class y{constructor(e,t=document.body){l(this,"curriculumVitae");l(this,"targetElement");this.curriculumVitae=e,this.targetElement=t}render(){const e=this.curriculumVitae.getBasicInfo();this.targetElement.innerHTML=`
            <div id="app" style='padding: 20px; font-family: Arial, sans-serif;'>
                <h1>üöÄ Curriculum Vitae</h1>            
                <div style='margin-bottom: 20px;'>
                    <p><strong>Nombre:</strong> ${e.fullName}</p>
                    <p><strong>Email:</strong> ${e.email}</p>
                    <p><strong>Tel√©fono:</strong> ${e.phone}</p>
                    <p><strong>Category:</strong> ${e.jobCategories}</p>
                    <p><strong>Especialidad:</strong> ${e.specialty}</p>
                    <p><strong>Linkedin:</strong> <a href="${e.linkedin}" rel="nofollow noopener" target="_blank">${e.linkedin}</a></p>
                    <p><strong>Github:</strong> <a href="${e.github}" rel="nofollow noopener" target="_blank">${e.github}</a></p>
                </div>
                <div style='margin-top: 20px;'>
                    <h3>üìç Ubicaciones</h3>
                    <ul>
                        ${e.locations.map(t=>`<li>${t}</li>`).join("")}
                    </ul>
                </div>
                <div style='margin-top: 20px;'>
                    <h3>Skills</h3>
                    <ul>
                        ${Object.entries(this.curriculumVitae.getSkills()).map(([t,r])=>r.length?`<li><strong>${t}</strong>: ${r.join(", ")}</li>`:"").join("")}
                    </ul>
                </div>
            </div>
        `}renderError(e){let t="";e instanceof Error?t+=`<p>${e.name}: ${e.message}</p>`:t+=`<p>Unknown error occurred: ${e}</p>`,this.targetElement.innerHTML=`<div>${t}</div>`}}async function w(){const s=new h("9f863328-1fb1-432e-a56b-70189492c37b","Cristobal V. Terceiro","crsitojvt@gmail.com","+34697356153",[g.ACORUNA,g.REMOTO],"Desarrollador Full-Stack con especializaci√≥n en Front-End y desarrollo m√≥vil con m√°s de 15 a√±os de experiencia.","https://www.linkedin.com/in/cristobal-terceiro/","https://cristoj.github.io");s.addSkills(i.LANGUAGES,["html","css","js","ts","php","dart"]),s.addSkills(i.FRAMEWORKS,["Angular","React","Flutter","Laravel","WordPress"]),s.addSkills(i.CLOUD,["GitHub","AWS","Vercel","Cloudflare","Firebase"]),s.addSkills(i.METHODOLOGIES,["Scrum"]),s.addSkills(i.TOOLS,["Docker","Postman","Sonarqube","VS Code","PHP Storm","Xcode","Android Studio","XD","Photoshop"]);const e=new b;await new k(e).execute(s),document.addEventListener("DOMContentLoaded",async()=>{new y(s).render()})}w().catch(s=>{new L().render(s)});
