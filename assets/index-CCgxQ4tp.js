var O=Object.defineProperty;var v=(r,e,t)=>e in r?O(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var n=(r,e,t)=>v(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();class L{constructor(e=document.body){n(this,"targetElement");this.targetElement=e}render(e){let t="";e instanceof Error?(console.error(e.name,e.message),t+=`<p><strong>Error:</strong> ${e.name}: ${e.message}</p>`):(console.error(e),t+=`<p><strong>Error:</strong> Unknown error occurred: ${e}</p>`),this.targetElement.innerHTML=`
            <div style='padding: 20px; font-family: Arial, sans-serif; color: red;'>
                <h1>❌ Error en la aplicación</h1>
                ${t}
            </div>
        `}setTargetElement(e){this.targetElement=e}}var l=(r=>(r.LANGUAGES="Lenguajes",r.FRAMEWORKS="Frameworks",r.TOOLS="Herramientas",r.METHODOLOGIES="Metodologías",r.CLOUD="Cloud/DevOps",r.SOFT_SKILLS="Habilidades Blandas",r))(l||{}),f=(r=>(r.ACORUNA="A Coruña",r.MADRID="Madrid",r.REMOTO="Remoto",r))(f||{}),y=(r=>(r.DEVELOPER="Developer",r.DESIGNER="Designer",r.PROJECT_MANAGER="Project Manager",r.DATA_ANALYST="Data Analyst",r.MARKETING="Marketing",r.SALES="Sales",r.HR="Human Resources",r.QA_TESTER="QA Tester",r.OTHER="Other",r))(y||{});class u extends Error{constructor(e){super(e),this.name="CurriculumVitaeErrors"}}class w{constructor(e,t,s,i,o=[f.REMOTO],a,c,p,g=y.OTHER,S=null){n(this,"uuid");n(this,"fullName");n(this,"email");n(this,"phone");n(this,"locations");n(this,"specialty");n(this,"linkedin");n(this,"github");n(this,"jobCategories");n(this,"portfolio");n(this,"skillSet");w.validateConstructorParams(e,t,s,i,a,c,p),this.uuid=e,this.fullName=t,this.email=s,this.phone=i,this.locations=o,this.specialty=a,this.linkedin=c,this.github=p,this.jobCategories=g,this.skillSet={[l.LANGUAGES]:[],[l.FRAMEWORKS]:[],[l.TOOLS]:[],[l.METHODOLOGIES]:[],[l.CLOUD]:[],[l.SOFT_SKILLS]:[]},this.portfolio=S}getUuid(){return this.uuid}getPortfolioUuids(){return this.portfolio}hasPortfolio(){return this.portfolio!==null&&this.portfolio.length>0}addSkill(e,t){this.skillSet[e].length&&this.skillSet[e].includes(t)||this.skillSet[e].push(t)}addSkills(e,t){t.forEach(s=>{this.addSkill(e,s)})}getSkills(){return{[l.LANGUAGES]:this.skillSet[l.LANGUAGES],[l.FRAMEWORKS]:this.skillSet[l.FRAMEWORKS],[l.TOOLS]:this.skillSet[l.TOOLS],[l.METHODOLOGIES]:this.skillSet[l.METHODOLOGIES],[l.CLOUD]:this.skillSet[l.CLOUD],[l.SOFT_SKILLS]:this.skillSet[l.SOFT_SKILLS]}}getBasicInfo(){return{fullName:this.fullName,email:this.email,phone:this.phonePrettyPrint(this.phone),locations:this.locations,specialty:this.specialty,linkedin:this.linkedin,github:this.github,jobCategories:this.jobCategories}}addExperience(){}phonePrettyPrint(e){return e.replace(/(.{3})/g,"$1 ").trim()}static validateConstructorParams(e,t,s,i,o,a,c){if(!e)throw new u("UUID no puede estar vacío");if(!t||t.trim().length<2)throw new u("El nombre completo debe tener al menos 2 caracteres");if(!s||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))throw new u("Email debe tener un formato válido");if(!i||!/^\+?[\d\s\-()]{7,15}$/.test(i))throw new u("Teléfono debe tener un formato válido");if(!o||o.trim().length<3)throw new u("La especialidad debe tener al menos 3 caracteres");if(a&&!a.includes("linkedin.com"))throw new u("LinkedIn debe ser una URL válida");if(!c||!c.includes("github.com")&&!c.includes("github.io"))throw new u("GitHub es obligatorio para developers y debe ser una URL válida")}}class U extends w{constructor(e,t,s,i,o=[f.REMOTO],a,c,p,g=null){super(e,t,s,i,o,a,c,p,y.DEVELOPER,g)}}class b{constructor(e){this.repository=e}async execute(e){if(!e.getBasicInfo().email)throw new Error("El email es requerido");await this.repository.save(e)}}const A=".list--unstyled{list-style:none}.mt--2{margin-top:2rem}.d--block{display:block}";class T extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}disconnectedCallback(){this.remove()}connectedCallback(){this.initComponent(),this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`
           <style>
                ${A}
                ${this.templateCss()}
           </style>
           ${this.renderTemplate()}
       `)}mapComponentAttributes(){}templateCss(){return""}renderTemplate(){return"Portfolio ITEM"}initComponent(){}}class h extends Error{constructor(e){super(e),this.name="PortfolioError"}}class R{constructor(e){this.repository=e}async execute(e){if(!e)throw new h("El uuid es requerido");return await this.repository.findById(e)}}const d=class d{constructor(){n(this,"store",new Map)}static getInstance(){return d.instance||(d.instance=new d),d.instance}async save(e){this.store.set(e.getUuid(),e)}async findById(e){return this.store.get(e)||null}async findAll(){return Array.from(this.store.values())}async update(e){const t=e.getUuid();if(!this.store.has(t))throw new Error("Portfolio not found");this.store.set(t,e)}async delete(e){if(!this.store.has(e))throw new Error("Portfolio not found");this.store.delete(e)}};n(d,"instance");let E=d;const C=".portfolio .portfolio__image{width:200px;border-radius:.5rem;border:3px solid var(--primary-color)}";class $ extends T{constructor(){super(...arguments);n(this,"portfolio",null);n(this,"isLoading",!0);n(this,"error",null)}get uuid(){return this.getAttribute("uuid")}async initComponent(){if(!this.uuid){this.error="El atributo 'uuid' es requerido.",this.isLoading=!1,this.render();return}try{const t=new R(E.getInstance());this.portfolio=await t.execute(this.uuid),this.portfolio||(this.error="Portfolio no encontrado.")}catch(t){this.error="Error al cargar el portfolio.",console.error(t)}finally{this.isLoading=!1,this.render()}}templateCss(){return C}renderTemplate(){if(this.isLoading)return"<p>Cargando portfolio...</p>";if(this.error)return`<p style="color: red;">${this.error}</p>`;if(!this.portfolio)return"<p>Portfolio no disponible.</p>";const t=this.portfolio.getBasicInfo();return`
            <div class="portfolio">   
                <a href="${t.url??"#"}" target="_blank" rel="noopener noreferrer" style="text-decoration: none; color: inherit;">
                    <img src="${t.imageUrl}" alt="${t.title}" class="portfolio__image d--block">
                    <h3>${t.title}</h3>
                </a>
                <p>${t.description}</p>
            </div>
        `}}class k{constructor(e,t=document.body){n(this,"curriculumVitae");n(this,"targetElement");this.curriculumVitae=e,this.targetElement=t}async render(){window.customElements.get("portfolio-item")||window.customElements.define("portfolio-item",$);const e=this.curriculumVitae.getBasicInfo(),t=this.curriculumVitae.getSkills(),s=this.curriculumVitae.hasPortfolio()?this.curriculumVitae.getPortfolioUuids():[];this.targetElement.innerHTML=`
            <div class="mt--2">
                <h1>${e.fullName}</h1>            
                <div class="mt--2">
                    <p><strong>Email:</strong> ${e.email}</p>
                    <p><strong>Teléfono:</strong> ${e.phone}</p>
                    <p><strong>Category:</strong> ${e.jobCategories}</p>
                    <p><strong>Especialidad:</strong> ${e.specialty}</p>
                    <p><strong>Linkedin:</strong> <a href="${e.linkedin}" rel="nofollow noopener" target="_blank">${e.linkedin}</a></p>
                    <p><strong>Github:</strong> <a href="${e.github}" rel="nofollow noopener" target="_blank">${e.github}</a></p>
                </div>
                <div class="mt--2">
                    <h3>Ubicaciones</h3>
                    <ul class="list--unstyled">
                        ${e.locations.map(i=>`<li>${i}</li>`).join("")}
                    </ul>
                </div>
                <div class="mt--2">
                    <h3>Skills</h3>
                    <ul class="list--unstyled">
                        ${Object.entries(t).map(([i,o])=>o.length?`<li><strong>${i}</strong>: ${o.join(", ")}</li>`:"").join("")}
                    </ul>
                </div>
                ${s&&s.length>0?`<div class="mt--2">
                            <h3>Portfolio</h3>
                            <ul class="list--unstyled">
                                ${s.map(i=>`<portfolio-item uuid="${i}"></portfolio-item>`).join("")}
                            </ul>
                    </div>`:""}
            </div>
        `}renderError(e){let t="";e instanceof Error?t+=`<p>${e.name}: ${e.message}</p>`:t+=`<p>Unknown error occurred: ${e}</p>`,this.targetElement.innerHTML=`<div>${t}</div>`}}class m{constructor(e,t,s,i,o,a=null){n(this,"uuid");n(this,"title");n(this,"description");n(this,"technologies");n(this,"imageUrl");n(this,"url");m.validateConstructorParams(e,t,s,i,o),this.uuid=e,this.title=t,this.description=s,this.technologies=i,this.imageUrl=o,this.url=a}getUuid(){return this.uuid}getTitle(){return this.title}getDescription(){return this.description}getTechnologies(){return this.technologies}getImageUrl(){return this.imageUrl}getUrl(){return this.url}copyWith(e){const t={uuid:this.uuid,title:e.title??this.title,description:e.description??this.description,technologies:e.technologies??this.technologies,imageUrl:e.imageUrl??this.imageUrl,url:e.url??this.url};return m.validateConstructorParams(t.uuid,t.title,t.description,t.technologies,t.imageUrl),new m(t.uuid,t.title,t.description,t.technologies,t.imageUrl,t.url)}updateTitle(e){return this.copyWith({title:e})}updateDescription(e){return this.copyWith({description:e})}updateTechnologies(e){return this.copyWith({technologies:e})}updateImageUrl(e){return this.copyWith({imageUrl:e})}updateUrl(e){return this.copyWith({url:e})}static validateConstructorParams(e,t,s,i,o){if(!e)throw new h("Uuid es requerido");if(!t)throw new h("Title es requerido");if(!s)throw new h("Description es requerido");if(!i||i.length===0)throw new h("Technologies es requerido");if(!o)throw new h("ImageUrl es requerido")}getBasicInfo(){return{uuid:this.uuid,title:this.title,description:this.description,imageUrl:this.imageUrl,url:this.url}}}class I{constructor(e){this.repository=e}async execute(e){await this.repository.save(e)}}class P{constructor(){n(this,"cvs",new Map)}async save(e){this.cvs.set(e.getUuid(),e)}async findById(e){for(const t of this.cvs)if(t[0]===e)return t[1];return null}async findAll(){return Array.from(this.cvs.values())}async update(e){const t=e.getUuid();if(!Array.from(this.cvs.keys()).some(i=>i===t))throw new Error("Curriculum Vitae not found");this.cvs.set(t,e)}async delete(e){if(!this.cvs.has(e))throw new Error("Curriculum Vitae not found");this.cvs.delete(e)}}async function D(){const r=new m("14207ae2-0b3d-40af-a06b-07c2b5c9ceb7","STIK","App AI to image recognition",["Angular","React","Flutter","Laravel"],"assets/images/portfolio1.jpg","https://cristoj.github.io/portfolio"),e=E.getInstance();await new I(e).execute(r);const s=new U("9f863328-1fb1-432e-a56b-70189492c37b","Cristobal V. Terceiro <{[...]}>","cristojvt@gmail.com","+34697356153",[f.ACORUNA,f.REMOTO],"Desarrollador Full-Stack con especialización en Front-End y desarrollo móvil con más de 15 años de experiencia.","https://www.linkedin.com/in/cristobal-terceiro/","https://cristoj.github.io",[r.getUuid()]);s.addSkills(l.LANGUAGES,["html","css","js","ts","php","dart"]),s.addSkills(l.FRAMEWORKS,["Angular","React","Flutter","Laravel","WordPress"]),s.addSkills(l.CLOUD,["GitHub","AWS","Vercel","Cloudflare","Firebase"]),s.addSkills(l.METHODOLOGIES,["Scrum"]),s.addSkills(l.TOOLS,["Docker","Postman","Sonarqube","VS Code","PHP Storm","Xcode","Android Studio","XD","Photoshop"]);const i=new P;await new b(i).execute(s),document.addEventListener("DOMContentLoaded",async()=>{const a=document.getElementById("app")??void 0;await new k(s,a).render()})}D().catch(r=>{new L().render(r)});
